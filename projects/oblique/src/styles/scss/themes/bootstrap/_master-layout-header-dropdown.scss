@import "../../core/variables";
@import "../../core/mixins/bubble-tail";
@import "../../core/mixins/layout";

.ob-master-layout-header {
	.ob-header-controls {
		.ob-control-item {
			> .tooltip,
			> .ob-control-link > .tooltip {
				white-space: nowrap;

				&.top {
					margin-top: 14px;
				}

				&.bottom {
					margin-top: -4px;
				}
			}

			.dropdown-item.active,
			.dropdown-item:active {
				background-color: #f8f9fa;
				color: $ob-default;
			}

			.dropdown {
				@include ob-media-breakpoint-down(md) {
					&.show {
						@include ob-bubble-tail-border(
								$ob-accent,
								$ob-accent,
							$width: 8px,
							$align: left,
							$align-value: 18px,
							$placement: bottom,
							$direction: top
						);
					}
				}

				.dropdown-menu {
					border-radius: 0;

					@include ob-media-breakpoint-down(md) {
						position: fixed !important;
						top: 108px !important;	// empiric value
						left: 0;
						right: 0;
						bottom: 0;
						padding: $ob-spacing-default;
						margin: 0;
						transform: none !important;
						height: 100%;
						overflow-y: auto;

						.ob-nav-link {
							margin-bottom: 0;
							text-overflow: ellipsis;
							white-space: nowrap;
							padding-top: 13px;
							padding-bottom: 13px;
						}
					}

					@include ob-media-breakpoint-up(md) {
						position: absolute;
						left: $ob-spacing-default !important;
						top: $ob-spacing-default !important;
						min-width: 260px;
						padding: $ob-spacing-default;
						margin-top: -2px;
						max-height: calc(100vh - 145px);	// empiric value

						@include ob-bubble-tail-border(
								$ob-white,
								$ob-gray-light,
							$align: right,
							$align-value: 14px,
							$position: absolute
						);
					}
				}

				.dropdown-toggle {
					padding: 0;
					cursor: pointer;

					&::after {
						display: none;
					}
				}
			}

			@include ob-media-breakpoint-down(md) {
				// Don't display control tooltips on small viewports:
				> .tooltip,
				> .ob-control-link > .tooltip {
					display: none !important;
				}
			}
		}
	}
}
